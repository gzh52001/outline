(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{222:function(e,t,a){var o=a(26),s=a(223);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},223:function(e,t,a){(t=a(27)(!1)).push([e.i,".goods{padding:15px}\n",""]),e.exports=t},270:function(e,t,a){"use strict";a.r(t);a(102);var o=a(62),s=a(0),n=a.n(s),c=a(189),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-432-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16H400v-16zm392 544H232V384h96v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h224v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h96v456z"}}]},name:"shopping",theme:"outlined"},r=a(30),d=function(e,t){return s.createElement(r.a,Object.assign({},e,{ref:t,icon:i}))};d.displayName="ShoppingOutlined";var l,p=s.forwardRef(d),g=a(47),m=a(70),h=a(40);a(222);let u=Object(g.b)(e=>({cartlist:e.cart.toJS()}),e=>({add2cart(t){e(h.e.add(t))},changeQty(t,a){e(h.e.change(t,a))}}))(l=class extends s.Component{constructor(...e){super(...e),this.state={data:{}},this.add2cart=()=>{const{data:e}=this.state,{cartlist:t,add2cart:a,changeQty:o}=this.props,{goods_name:s,goods_id:n,goods_price:c,goods_image:i}=e,r=t.filter(e=>e.goods_id===n)[0];r?o(n,r.goods_qty+1):a({goods_name:s,goods_id:n,goods_price:c,goods_image:i,goods_qty:1})},this.buyNow=()=>{const{history:e}=this.props;this.add2cart(),e.push("/cart")}}async componentDidMount(){const{match:e}=this.props,{id:t}=e.params,{datas:a}=await m.a.get("/mobile/index.php",{act:"goods",op:"goods_detail",goods_id:t});console.log("datas=",a),this.setState({data:{...a.goods_info,goods_image:a.goods_image}})}render(){console.log("Goods",this.props);const{data:e}=this.state;return n.a.createElement("div",{className:"goods"},n.a.createElement("div",{className:"info"},n.a.createElement("img",{src:e.goods_image}),n.a.createElement("h1",null,e.goods_name),n.a.createElement("div",{className:"price"},n.a.createElement("p",null,"原价：",n.a.createElement("del",null,"$",e.goods_marketprice)),n.a.createElement("p",null,"现价：",n.a.createElement("span",null,e.goods_price)),n.a.createElement("p",null,"秒杀价：",n.a.createElement("span",null,e.goods_promotion_price)))),n.a.createElement(o.a.Group,null,n.a.createElement(o.a,{type:"primary",size:"large",icon:n.a.createElement(c.a,null),onClick:this.add2cart},"添加到购物车"),n.a.createElement(o.a,{type:"danger",size:"large",icon:n.a.createElement(p,null),onClick:this.buyNow},"立即购买")))}})||l;t.default=u}}]);